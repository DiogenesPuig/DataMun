{% extends 'main.html' %}
{% load static %}
{% block title %}
Home
{% endblock %}
{% block content %}
<style>
.single-line {
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: pre;
  width:100%
}
</style>
<div class="section white hoverable">
    <div class="row container" >
        <div class="col s12" >
            <div class="row center" >
            <h5>Diagnostico {{diagnostico.nombre}}</h5>
            </div>
            
            <canvas id="myChart" width="400" height="400"></canvas>
            <script>
            var ctx = document.getElementById('myChart').getContext('2d');
            const labels = [{% for i in medias %}{{i.year}},{% endfor %}]
            const data = {
            labels: labels,
            datasets: [{
                label: 'media',
                data: [{% for i in medias %}{{i.media}},{% endfor %}],
                fill: 'origin',
                borderColor: 'rgb(125, 0, 0)',
                fillColor: 'rgb(125, 0, 0)',
                tension: 0.1
            },
            {
                label: 'Ok',
                data: [{% for i in medias %}{{i.rangoInferior}},{% endfor %}],
                fill: 'origin',

                borderColor: 'rgb(0, 255, 255)',
                tension: 0.1
            },
            {
                label: 'Peligro',
                data: [{% for i in medias %}{{i.rangoSuperior}},{% endfor %}],
                fill: 'origin',
                
                borderColor: 'rgb(255, 0, 0)',
                fillColor: 'rgb(125, 0, 0)',
                tension: 0.1
            }]
            };
            const config = {
                type: 'line',
                data: data,
            };
            var myChart = new Chart(ctx,config)
            </script>

            
            
        </div>

    </div>
</div>




{%endblock%}